{%- from "macros/translation.html" import transbag -%}
{%- set t_keynote_speakers = transbag('translate', this.alt, 'keynote_speakers') -%}
{%- set t_speaker_at = transbag('translate', this.alt, 'speaker_at') -%}
{%- set t_venue_location = transbag('translate', this.alt, 'venue_location') -%}
{%- set t_speakers_workshops = transbag('translate', this.alt, 'speakers_workshops') -%}
{%- set t_tell_us = transbag('translate', this.alt, 'tell_us') -%}
{%- set t_we_know = transbag('translate', this.alt, 'we_know') -%}
{%- set t_what_speakers = transbag('translate', this.alt, 'what_speakers') -%}
{%- set t_speakers_1 = transbag('translate', this.alt, 'speakers_1') -%}
{%- set t_speakers_2 = transbag('translate', this.alt, 'speakers_2') -%}
{%- set t_speakers_3 = transbag('translate', this.alt, 'speakers_3') -%}
{%- set t_speakers_4 = transbag('translate', this.alt, 'speakers_4') -%}
{%- set t_speakers_5 = transbag('translate', this.alt, 'speakers_5') -%}
{%- set t_apply_talk = transbag('translate', this.alt, 'apply_talk') -%}
{%- set t_apply_workshop = transbag('translate', this.alt, 'apply_workshop') -%}
{%- set t_sponsors = transbag('translate', this.alt, 'sponsors') -%}
{%- set t_more_info = transbag('translate', this.alt, 'more_info') -%}
{%- set t_apply_sponsor = transbag('translate', this.alt, 'apply_sponsor') -%}
{%- set t_sponsor_text = transbag('translate', this.alt, 'sponsor_text') -%}
{%- set event = site.get('/venue', alt=this.alt) -%}

{% extends "layout.html" %}

        {% block banner_text %}
        <div class="section-container stars">
          <div class="row">
            <div class="col-md-offset-0 col-md-12 col-sm-offset-0 col-sm-12 col-xs-offset-0 col-xs-12">
              <div class="logo-{{ this.alt }}"></div>
            </div>
            <div class="col-md-12">
              <div class="date">{{ t_place }}<br>{{ t_date }}</div>
            </div>
          </div>
        </div>
        {% endblock %}

{% block content %}
      <!-- Speakers & Workshops Section -->
      <div class="container-fluid light-section">
        <div class="section-container">        
          <div class="row">          
            <div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-xs-offset-1 col-xs-10">
              <h1 class="section-title">{{ t_speakers_workshops }}</h1>
              <div class="transparent-background">
                <h2 class="text-center">{{ t_tell_us }}</h2>
                <p class="text-center">{{ t_we_know }}</p>
              </div>
              <div class="mini-logo"></div>
              <div class="transparent-background">
                <h2 class="text-center">{{ t_what_speakers }}</h2>
                <div class="row">
                  <div class="col-md-6">
                    <ul class="list-check">
                      <li>{{ t_speakers_1 }}</li>
                      <li>{{ t_speakers_5 }}</li>
                    </ul>
                  </div>
                  <div class="col-md-6">
                    <ul class="list-check">
                      <li>{{ t_speakers_4 }}</li>
                      <li>{{ t_speakers_2 }}</li>
                    </ul>
                  </div>
                </div>
              </div>
              <br />
              <div class="row">  
                <div class="col-md-6">
                  <div class="mini-logo"></div>
                  <div class="talk-btn">
                    <a href="https://www.papercall.io/pycon-colombia-2018">
                      <p></p>
                      <i class="fa fa-id-badge fa-lg"></i>
                      <div>
                        <p></p>
                        {{ t_apply_talk }}
                      </div>
                    </a>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mini-logo"></div>
                  <div class="talk-btn">
                    <a href="https://www.papercall.io/pycon-colombia-2018-workshops">
                      <p></p>
                      <i class="fa fa-wrench fa-lg"></i>
                      <div>
                        <p></p>
                        {{ t_apply_workshop }}
                      </div>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Keynote Speakers Section -->
      <div class="container-fluid keynote-section">
        <div class="section-container">        
          <div class="row">
        <div class="container">
              {% set speakers = site.query('/speakers', alt=this.alt).filter(F.keynote) %}
              <h1 class="section-title-light">{{ t_keynote_speakers }}</h1>
              <div class="row">            
                {% for speaker in speakers %}
                <div class="col-sm-6 col-md-4">
                  <div class="speaker">
                    {% if speaker.image %}
                    <img class="speaker-image" id="speaker-image-link-{{ loop.index }}" src="/speakers/{{ speaker._id }}/{{ speaker.image }}" />
                    {% endif %}
                    <div id="link-{{ loop.index }}" class="speaker-social">
                      <a id="link-{{ loop.index }}" class="social-hover" href="https://www.twitter.com/{{ speaker.twitter_handle }}" target="blank"><div class="social-icon icon-twitter"></div></a>
                      <a id="link-{{ loop.index }}" class="social-hover" href="{{ speaker.web }}" target="blank"><div class="social-icon icon-website"></div></a>
                      <a id="link-{{ loop.index }}" class="social-hover" href="https://www.github.com/{{ speaker.github_handle }}" target="blank"><div class="social-icon icon-github"></div></a>
                    </div>
                    <div class="speaker-details">
                      <p>{{ speaker.name }} {{ speaker.last_name }}</p>
                      <div class="speaker-job">
                        <h5>{{ speaker.position }} {{ t_speaker_at }} {{ speaker.employer }}</h5>
                      </div>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sponsors Section -->
      <div class="container-fluid light-section">
        <div class="section-container">        
          {% set sponsors = site.query('/sponsors', alt=this.alt) %}
          <h1 class="text-center" style="color:white;">{{ t_sponsors }}</h1>
          <div class="row">
            <div class="col-md-offset-2 col-md-8 col-sm-offset-1 col-sm-10 col-xs-offset-0 col-xs-12">
              <h3 class="text-center" >{{ t_sponsor_text }}</h3>
            </div>
          </div>
          <div class="container"/>
            <div class="carousel slide" data-ride="carousel" data-type="multi" data-interval="3000" id="sponsors-carousel">
              <div class="carousel-inner">
                {% for sponsor in sponsors %}
                  {% if sponsor.confirmed %}
                <div class="item{% if loop.index == 1 %} active{% endif %}">
                  <div class="col-xs-12 col-sm-6 col-md-3">
                    <div class="center-sponsor">
                      <a href="{{ sponsor.web }}" target="blank">
                        <div>
                          <img src="/sponsors/{{ sponsor._id }}/{{ sponsor.image }}" class="img-responsive">
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
                  {% endif %}
                {% endfor %}
              </div>
              <a class="left carousel-control" href="#sponsors-carousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
              <a class="right carousel-control" href="#sponsors-carousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
            </div>
          </div>
{#          <br />
          <br />
          <br />
          <br />
          <div class="row">
            <div class="col-md-offset-3 col-md-6 col-sm-offset-3 col-sm-6 col-xs-offset-1 col-xs-10">
              <div class="row">
                <div class="col-md-offset-2 col-md-8 col-sm-offset-1 col-sm-10 col-xs-offset-0 col-xs-12">
                  <a href="{{ '/sponsors'|url(alt=this.alt) }}" class="btn btn-success btn-lg btn-block     center-block">
                    {{ t_apply_sponsor }}!
                  </a>
                </div>
              </div>
            </div>
          </div>#}
        </div>
      </div>

      <!-- Location Section -->
      <div class="container-fluid dark-section">
        <div class="section-container">
          <div class="row">
            <div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-xs-offset-1 col-xs-10">
              <div class="row">
                <div class="col-md-12">
                    <h1 class="section-title">{{ t_venue_location }}</h1>
                </div>
                <div class="col-md-6 section-venue">
                    <h2>{{ event.name }}</h2>
                    <p>{{ event.rooms }}</p>
                    <br>
                    <h4>{{ event.address }}</h4>
                    <p>{{ event.location }}</p>
                    <br>
                </div>
                <div class="col-md-6">
                  <br>
                  <div class="map-container">
                    <div id="map">
                    </div>
                  </div>
                </div>
                <div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-xs-offset-1 col-xs-10">
                  {#
                  <br />
                  <br />
                  <br />
                  <br />
                  <a href="{{ '/venue'|url(alt=this.alt) }}" class="btn btn-danger btn-lg btn-block center-block">
                    {{ t_more_info }}
                  </a>#}
                </div>
              </div>
              <br />
              <br />
            </div>
          </div>
        </div>
      </div>

      <!-- Subscribe Section -->
      <div class="container-fluid light-section">
        <div class="section-container">
          <div class="row">
            <div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-xs-offset-1 col-xs-10">
              {% include '_mailchimp.html' %}
            </div>
          </div>
        </div>
      </div>
    {% endblock %}      

    {% block footer_scripts %}
    <script>
      function initMap() {
        var eafit = {lat: {{ event.latitude }}, lng: {{ event.longitude }} };
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: eafit,
          zoomControl: true,
          mapTypeControl: false,
          scaleControl: false,
          streetViewControl: false,
          rotateControl: false,
          fullscreenControl: false,
        });
        var marker = new google.maps.Marker({
          position: eafit,
          map: map
        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAZ9l3uCiqVBn6egBt-aJQGbBaVRQDuGNA&callback=initMap">
    </script>

    <script>
    $( "div.speaker-social" ).hover(
      function() {
        $("#speaker-image-" + this.id).toggleClass("hovered");
      },
      function() {
        $("#speaker-image-" + this.id).toggleClass("hovered");
      }
    );
    </script>
    

   <script>
$( document ).ready(function() {
    var heights = $(".adjust-height").map(function() {
        return $(this).height();
    }).get(),

    maxHeight = Math.max.apply(null, heights);

    $(".adjust-height").height(maxHeight);
});
    </script>

    <script>
$('.carousel[data-type="multi"] .item').each(function(){
  var next = $(this).next();
  if (!next.length) {
    next = $(this).siblings(':first');
  }
  next.children(':first-child').clone().appendTo($(this));

  for (var i=0;i<2;i++) {
    next=next.next();
    if (!next.length) {
    	next = $(this).siblings(':first');
  	}
    
    next.children(':first-child').clone().appendTo($(this));
  }
});
</script>
{% endblock %}
   
